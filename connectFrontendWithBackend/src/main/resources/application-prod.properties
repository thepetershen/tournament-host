# Production Profile Configuration
# This profile is used in production deployment

# PostgreSQL database configuration (production)
# MUST be set via environment variables
spring.datasource.url=${DB_URL}
spring.datasource.username=${DB_USERNAME}
spring.datasource.password=${DB_PASSWORD}

# Hibernate Configuration - matches previous production behavior
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Flyway - disabled (matching previous configuration)
spring.flyway.enabled=false

# HikariCP - full pool for production
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.connection-timeout=30000
spring.datasource.hikari.idle-timeout=600000
spring.datasource.hikari.max-lifetime=1800000
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.leak-detection-threshold=60000

# Server Configuration
server.port=${SERVER_PORT:8080}

# Server Connection & Timeout Configuration
server.connection-timeout=60000
spring.mvc.async.request-timeout=30000
server.tomcat.threads.max=200
server.tomcat.threads.min-spare=10
server.tomcat.max-connections=10000
server.max-http-request-header-size=20KB

# JWT Security - MUST be set via environment variables
security.jwt.secret-key=${JWT_SECRET_KEY}
security.jwt.expiration-time=${JWT_EXPIRATION_TIME:3600000}

# Email Configuration - MUST be set via environment variables
spring.mail.host=smtp.sendgrid.net
spring.mail.port=587
spring.mail.username=apikey
spring.mail.password=${SENDGRID_API_KEY}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true

# Frontend URL - production domain
app.frontend.url=${FRONTEND_URL}

# Logging - less verbose for production
logging.level.com.tournamenthost=INFO
logging.level.org.springframework.web=WARN
